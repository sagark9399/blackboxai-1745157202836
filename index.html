<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tic Tac Toe Game</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Roboto', sans-serif;
    }
    button:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
    }
  </style>
</head>
<body class="bg-black min-h-screen flex flex-col items-center justify-center p-4">
  <h1 class="text-4xl font-bold mb-6 text-gray-800">Tic Tac Toe</h1>
  <div id="status" class="mb-4 text-xl font-semibold text-gray-700"></div>
  <div id="board" class="grid grid-cols-3 gap-4 w-64 h-64">
    <!-- 9 cells will be generated by JS -->
  </div>
  <button id="resetBtn" class="mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center gap-2">
    <i class="fas fa-redo"></i> Reset Game
  </button>

  <script>
    const boardElement = document.getElementById('board');
    const statusElement = document.getElementById('status');
    const resetBtn = document.getElementById('resetBtn');

    let board = ['', '', '', '', '', '', '', '', ''];
    let currentPlayer = 'X';
    let gameActive = true;

    const winningConditions = [
      [0,1,2],
      [3,4,5],
      [6,7,8],
      [0,3,6],
      [1,4,7],
      [2,5,8],
      [0,4,8],
      [2,4,6]
    ];

    function handleCellClick(clickedCellEvent) {
      const clickedCell = clickedCellEvent.target;
      const clickedIndex = parseInt(clickedCell.getAttribute('data-cell-index'));

      if (board[clickedIndex] !== '' || !gameActive) {
        return;
      }

      updateCell(clickedCell, clickedIndex);
      checkResult();
    }

    function updateCell(cell, index) {
      board[index] = currentPlayer;
      cell.textContent = currentPlayer;
      cell.classList.add(currentPlayer === 'X' ? 'text-red-600' : 'text-blue-600');
    }

    function changePlayer() {
      currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
      statusElement.textContent = `Player ${currentPlayer}'s turn`;
    }

    function checkResult() {
      let roundWon = false;
      for (let i = 0; i < winningConditions.length; i++) {
        const condition = winningConditions[i];
        const a = board[condition[0]];
        const b = board[condition[1]];
        const c = board[condition[2]];
        if (a === '' || b === '' || c === '') {
          continue;
        }
        if (a === b && b === c) {
          roundWon = true;
          break;
        }
      }

      if (roundWon) {
        statusElement.textContent = `Player ${currentPlayer} wins! 🎉`;
        gameActive = false;
        return;
      }

      if (!board.includes('')) {
        statusElement.textContent = "It's a draw! 🤝";
        gameActive = false;
        return;
      }

      changePlayer();
    }

    function resetGame() {
      board = ['', '', '', '', '', '', '', '', ''];
      gameActive = true;
      currentPlayer = 'X';
      statusElement.textContent = `Player ${currentPlayer}'s turn`;
      Array.from(boardElement.children).forEach(cell => {
        cell.textContent = '';
        cell.classList.remove('text-red-600', 'text-blue-600');
      });
    }

    function createBoard() {
      for (let i = 0; i < 9; i++) {
        const cell = document.createElement('button');
        cell.setAttribute('data-cell-index', i);
        cell.className = 'bg-black rounded-lg shadow-md flex items-center justify-center text-5xl font-bold cursor-pointer select-none hover:bg-gray-900 transition border-4 border-blue-600';
        cell.addEventListener('click', handleCellClick);
        boardElement.appendChild(cell);
      }
    }

    // Initialize game
    createBoard();
    resetGame();

    resetBtn.addEventListener('click', resetGame);
  </script>
</body>
</html>
